<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏á‡∏≤‡∏ô‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‚Äì ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(90deg, #FC466B 0%, #3F5EFB 100%);
            --secondary-gradient: linear-gradient(135deg, #FC466B 0%, #3F5EFB 100%);
            --accent-gradient: linear-gradient(45deg, #FC466B 0%, #3F5EFB 100%);
            --primary-color: #FC466B;
            --secondary-color: #3F5EFB;
            --gold: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            --silver: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            --bronze: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
            --text-dark: #2d3436;
            --text-light: #636e72;
            --bg-white: #ffffff;
            --bg-light: #f8f9fa;
            --shadow: 0 10px 30px rgba(252, 70, 107, 0.15);
            --shadow-hover: 0 15px 40px rgba(252, 70, 107, 0.25);
        }

        body {
            font-family: 'Kanit', sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 2.5rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            width: 120px;
            height: auto;
            margin-bottom: 1rem;
            animation: fadeInDown 0.8s ease;
        }

        .header h1 {
            font-size: clamp(1.2rem, 3.5vw, 2rem);
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            margin-bottom: 0.5rem;
            animation: fadeInUp 0.8s ease;
        }

        .header .subtitle {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: var(--text-dark);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .header .date {
            color: var(--text-light);
            font-size: 1rem;
            font-weight: 400;
        }

        /* Navigation Menu */
        .nav-menu {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-btn {
            padding: 0.8rem 1.5rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Kanit', sans-serif;
            font-weight: 500;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .nav-btn i {
            margin-right: 0.5rem;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Section */
        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            animation: fadeInUp 0.6s ease;
            scroll-margin-top: 120px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid transparent;
            background: var(--accent-gradient);
            background-clip: padding-box;
        }

        .section-icon {
            width: 70px;
            height: 70px;
            background: var(--primary-gradient);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            box-shadow: var(--shadow);
        }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            color: var(--text-dark);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .section-title p {
            color: var(--text-light);
            font-size: 0.95rem;
            font-weight: 300;
        }

        /* Competition Categories */
        .competition-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .category-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 249, 250, 0.9) 100%);
            border-radius: 20px;
            padding: 1.5rem;
            border: 2px solid transparent;
            background-clip: padding-box;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--secondary-gradient);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .category-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .category-levels {
            list-style: none;
            padding: 0;
        }

        .category-levels li {
            padding: 0.5rem 0;
            color: var(--text-light);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-size: 0.9rem;
        }

        .category-levels li:last-child {
            border-bottom: none;
        }

        .category-levels li i {
            margin-right: 0.5rem;
            color: var(--primary-gradient);
        }

        /* Form Styles */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-dark);
            font-size: 0.95rem;
        }

        .form-label i {
            margin-right: 0.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-label .required {
            color: #e74c3c;
            margin-left: 0.25rem;
        }

        .form-control {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-family: 'Kanit', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(252, 70, 107, 0.1);
            background: white;
        }

        select.form-control {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FC466B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 20px;
            padding-right: 3rem;
        }

        /* File Upload */
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.2rem;
            background: linear-gradient(135deg, rgba(252, 70, 107, 0.1) 0%, rgba(63, 94, 251, 0.1) 100%);
            border: 2px dashed var(--primary-color);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            justify-content: center;
        }

        .file-input-label:hover {
            background: linear-gradient(135deg, rgba(252, 70, 107, 0.2) 0%, rgba(63, 94, 251, 0.2) 100%);
            border-color: var(--secondary-color);
        }

        .file-input-label i {
            font-size: 2rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .file-name {
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-light);
            font-style: italic;
        }

        /* Buttons */
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-family: 'Kanit', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-block {
            width: 100%;
            justify-content: center;
        }

        /* Admin Section */
        .admin-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(255, 255, 255, 0.9) 100%);
            border-radius: 25px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(102, 126, 234, 0.2);
            backdrop-filter: blur(10px);
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            align-items: end;
        }

        /* Results Display */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .result-card {
            background: var(--primary-gradient);
            border-radius: 25px;
            padding: 2rem;
            color: white;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-30%, -30%); }
        }

        .result-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .result-rank {
            display: inline-block;
            padding: 0.6rem 1.2rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            border-radius: 50px;
            font-weight: 600;
            margin-bottom: 1rem;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }

        .result-rank.gold {
            background: var(--gold);
            color: #8B4513;
        }

        .result-rank.silver {
            background: var(--silver);
            color: var(--text-dark);
        }

        .result-rank.bronze {
            background: var(--bronze);
            color: white;
        }

        .result-name {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .result-school {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .result-category {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            display: inline-block;
        }

        .btn-certificate {
            width: 100%;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            border: none;
            border-radius: 15px;
            font-family: 'Kanit', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-certificate:hover {
            background: white;
            transform: scale(1.05);
        }

        /* Real-time Updates */
        .live-indicator {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.8rem;
            box-shadow: var(--shadow);
            z-index: 1000;
            animation: pulse 2s infinite;
        }

        .live-indicator::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #ff4757;
            border-radius: 50%;
            margin-right: 0.5rem;
            animation: blink 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 249, 250, 0.9) 100%);
            border-radius: 25px;
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent-gradient);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .stat-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.95rem;
            font-weight: 400;
        }

        /* Chart Container */
        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-top: 2rem;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-light);
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }

        /* Footer */
        .footer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 2rem 1rem;
            text-align: center;
            margin-top: 3rem;
            border-top: 3px solid transparent;
            background-image: var(--accent-gradient);
            background-origin: border-box;
            background-clip: content-box, border-box;
        }

        .footer p {
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .footer strong {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Page Management */
        .page-section {
            display: none;
            animation: fadeInUp 0.6s ease;
        }

        .page-section.active {
            display: block;
        }

        /* Navigation Active State */
        .nav-btn.active {
            background: var(--secondary-gradient);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .section {
                padding: 2rem 1.5rem;
            }

            .section-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .nav-menu {
                gap: 0.5rem;
                padding: 1rem 0.5rem;
            }

            .nav-btn {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }

            .admin-controls {
                grid-template-columns: 1fr;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .competition-categories {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .live-indicator {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 1rem;
                display: inline-block;
            }
        }

        /* Loading States */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .loading-overlay.active {
            display: flex;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Live Indicator -->
    <div class="live-indicator">
        <i class="fas fa-broadcast-tower"></i> ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
    </div>

    <!-- Header -->
    <div class="header">
        <img src="https://img2.pic.in.th/pic/sa1.png" alt="‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤" class="logo">
        <h1>‡∏á‡∏≤‡∏ô‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
        <div class="subtitle">"‡∏™‡∏∑‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ ‡∏™‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û ‡∏™‡∏π‡πà‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠"</div>
        <div class="date">‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 13 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569 ‡∏ì ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏™‡∏≤ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡πà‡∏≤‡∏ô</div>
    </div>

    <!-- Navigation -->
    <div class="nav-menu">
        <button class="nav-btn active" onclick="showSection('categories')">
            <i class="fas fa-list"></i> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
        </button>
        <button class="nav-btn" onclick="showSection('registration')">
            <i class="fas fa-edit"></i> ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
        </button>
        <button class="nav-btn" onclick="showSection('results')">
            <i class="fas fa-trophy"></i> ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
        </button>
        <button class="nav-btn" onclick="showSection('dashboard')">
            <i class="fas fa-chart-bar"></i> ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î
        </button>
    </div>

    <div class="container">
        <!-- Section 0: Competition Categories -->
        <div id="categories" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="section-title">
                    <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</h2>
                    <p>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                </div>
            </div>

            <div class="competition-categories">
                <div class="category-card">
                    <div class="category-title">
                        <i class="fas fa-palette"></i>
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ "‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠"
                    </div>
                    <ul class="category-levels">
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.1-‡∏õ.2 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏µ‡πÑ‡∏°‡πâ</li>
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.3-‡∏õ.4 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡∏™‡∏µ‡∏ä‡∏≠‡∏•‡πå‡∏Ñ</li>
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.5-‡∏õ.6 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏µ‡∏ä‡∏≠‡∏•‡πå‡∏Ñ</li>
                        <li><i class="fas fa-user"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.‡∏ï‡πâ‡∏ô ‡∏´‡∏∏‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</li>
                        <li><i class="fas fa-user-graduate"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.‡∏õ‡∏•‡∏≤‡∏¢ ‡∏´‡∏∏‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</li>
                    </ul>
                    <div style="margin-top: 1rem; padding: 0.8rem; background: rgba(102, 126, 234, 0.1); border-radius: 10px; font-size: 0.85rem;">
                        <strong>‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á (80+ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô), ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô (70-79), ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á (60-69), ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 60)
                    </div>
                </div>

                <div class="category-card">
                    <div class="category-title">
                        <i class="fas fa-music"></i>
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏ó‡∏¢‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞
                    </div>
                    <ul class="category-levels">
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤</li>
                        <li><i class="fas fa-user"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô</li>
                        <li><i class="fas fa-user-graduate"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢</li>
                    </ul>
                    <div style="margin-top: 1rem; padding: 0.8rem; background: rgba(102, 126, 234, 0.1); border-radius: 10px; font-size: 0.85rem;">
                        <strong>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:</strong> ‡πÄ‡∏û‡∏•‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (‡πÄ‡∏û‡∏•‡∏á‡∏ä‡πâ‡∏≤) 1 ‡πÄ‡∏û‡∏•‡∏á, ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß/‡πÅ‡∏î‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå, ‡∏ï‡∏±‡∏î Guide Melody ‡∏≠‡∏≠‡∏Å
                    </div>
                </div>

                <div class="category-card">
                    <div class="category-title">
                        <i class="fas fa-running"></i>
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠
                    </div>
                    <ul class="category-levels">
                        <li><i class="fas fa-users"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡∏°‡∏ä‡∏≤‡∏¢ 3 ‡∏Ñ‡∏ô</li>
                        <li><i class="fas fa-users"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡∏°‡∏´‡∏ç‡∏¥‡∏á 3 ‡∏Ñ‡∏ô</li>
                    </ul>
                    <div style="margin-top: 1rem; padding: 0.8rem; background: rgba(102, 126, 234, 0.1); border-radius: 10px; font-size: 0.85rem;">
                        <strong>‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® (‡∏ñ‡πâ‡∏ß‡∏¢‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•+‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£), ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1-2 (‡∏õ‡∏£‡∏∞‡∏Åa‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£)
                    </div>
                </div>

                <div class="category-card">
                    <div class="category-title">
                        <i class="fas fa-baseball-ball"></i>
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï "‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô‡∏ä‡∏¥‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®"
                    </div>
                    <ul class="category-levels">
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏™‡∏° (‡∏≠‡∏≤‡∏¢‡∏∏‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 12 ‡∏õ‡∏µ)</li>
                    </ul>
                    <div style="margin-top: 1rem; padding: 0.8rem; background: rgba(102, 126, 234, 0.1); border-radius: 10px; font-size: 0.85rem;">
                        <strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong> ‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô 8 ‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå, ‡∏ô‡∏±‡∏Å‡∏Å‡∏µ‡∏¨‡∏≤ 7-11 ‡∏Ñ‡∏ô (5‡∏ä‡∏≤‡∏¢ 5‡∏´‡∏ç‡∏¥‡∏á 1‡∏ß‡∏¥‡∏Ñ‡πÄ‡∏Å‡πá‡∏ï‡∏Ñ‡∏£‡∏¥‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå), ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ï‡∏µ/‡∏ú‡∏π‡πâ‡∏Ç‡∏ß‡πâ‡∏≤‡∏á‡∏î‡∏µ‡πÄ‡∏î‡πà‡∏ô
                    </div>
                </div>

                <div class="category-card">
                    <div class="category-title">
                        <i class="fas fa-volleyball-ball"></i>
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•
                    </div>
                    <ul class="category-levels">
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏ä‡∏≤‡∏¢</li>
                        <li><i class="fas fa-child"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏´‡∏ç‡∏¥‡∏á</li>
                    </ul>
                    <div style="margin-top: 1rem; padding: 0.8rem; background: rgba(102, 126, 234, 0.1); border-radius: 10px; font-size: 0.85rem;">
                        <strong>‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤:</strong> ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 3 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏•‡πà‡∏ô‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á ‡∏•‡∏π‡∏Å‡∏ï‡∏Å‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ß‡∏•‡∏≤, ‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡∏ä‡∏∏‡∏î‡∏û‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 1: Registration Form -->
        <div id="registration" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i class="fas fa-pen-fancy"></i>
                </div>
                <div class="section-title">
                    <h2>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
                    <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</p>
                </div>
            </div>

            <form id="registrationForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-user"></i> ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô <span class="required">*</span>
                        </label>
                        <input type="text" class="form-control" id="fullName" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-school"></i> ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span class="required">*</span>
                        </label>
                        <input type="text" class="form-control" id="school" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-trophy"></i> ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô <span class="required">*</span>
                        </label>
                        <select class="form-control" id="competitionType" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô --</option>
                            <option value="‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ "‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠"</option>
                            <option value="‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏ó‡∏¢‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞</option>
                            <option value="‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠</option>
                            <option value="‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï</option>
                            <option value="‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-layer-group"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó <span class="required">*</span>
                        </label>
                        <select class="form-control" id="category" required>
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-phone"></i> ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="required">*</span>
                        </label>
                        <input type="tel" class="form-control" id="phone" required placeholder="0xx-xxx-xxxx">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-envelope"></i> ‡∏≠‡∏µ‡πÄ‡∏°‡∏•
                        </label>
                        <input type="email" class="form-control" id="email" placeholder="example@email.com">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-user-tie"></i> ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° <span class="required">*</span>
                    </label>
                    <input type="text" class="form-control" id="teacher" required placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-cloud-upload-alt"></i> ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (PDF, JPG, PNG)
                    </label>
                    <div class="file-input-wrapper">
                        <input type="file" id="fileUpload" accept=".pdf,.jpg,.jpeg,.png" onchange="handleFileSelect(event)">
                        <label for="fileUpload" class="file-input-label">
                            <div>
                                <i class="fas fa-cloud-upload-alt"></i>
                                <div>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á</div>
                                <small style="color: var(--text-light);">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PDF, JPG, PNG ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB</small>
                            </div>
                        </label>
                    </div>
                    <div id="fileName" class="file-name"></div>
                </div>

                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-paper-plane"></i> ‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                </button>
            </form>
        </div>

        <!-- Section 2: Results & Certificates -->
        <div id="results" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="section-title">
                    <h2>‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
                    <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</p>
                </div>
            </div>

            <!-- Admin Login -->
            <div class="admin-box">
                <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">
                    <i class="fas fa-shield-alt"></i> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ - ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                </h3>
                <div class="admin-controls">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-key"></i> ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
                        </label>
                        <input type="password" class="form-control" id="adminPassword" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±s‡∏ú‡πà‡∏≤‡∏ô">
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-user"></i> ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                        </label>
                        <input type="text" class="form-control" id="winnerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞">
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-school"></i> ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                        </label>
                        <input type="text" class="form-control" id="winnerSchool" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-trophy"></i> ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                        </label>
                        <select class="form-control" id="winnerType">
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                            <option value="‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ "‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠"</option>
                            <option value="‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏ó‡∏¢‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞</option>
                            <option value="‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠</option>
                            <option value="‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï</option>
                            <option value="‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•">‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-layer-group"></i> ‡∏£‡∏∞‡∏î‡∏±‡∏ö/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
                        </label>
                        <input type="text" class="form-control" id="winnerCategory" placeholder="‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó">
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-medal"></i> ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                        </label>
                        <select class="form-control" id="winnerRank">
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</option>
                            <option value="ü•á ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á">ü•á ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 80 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ)</option>
                            <option value="ü•à ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô">ü•à ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 70-79)</option>
                            <option value="ü•â ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á">ü•â ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 60-69)</option>
                            <option value="üéñÔ∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°">üéñÔ∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 59 ‡∏•‡∏á‡∏°‡∏≤)</option>
                            <option value="üèÜ ‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®">üèÜ ‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® (‡∏Å‡∏µ‡∏¨‡∏≤)</option>
                            <option value="ü•à ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1">ü•à ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 (‡∏Å‡∏µ‡∏¨‡∏≤)</option>
                            <option value="ü•â ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2">ü•â ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2 (‡∏Å‡∏µ‡∏¨‡∏≤)</option>
                            <option value="‚≠ê ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©">‚≠ê ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
                        </select>
                    </div>
                    <button class="btn btn-success" onclick="announceWinner()">
                        <i class="fas fa-bullhorn"></i> ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                    </button>
                </div>
            </div>

            <!-- Results Display -->
            <div id="resultsContainer">
                <div class="empty-state">
                    <i class="fas fa-trophy"></i>
                    <h3>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h3>
                    <p>‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                </div>
            </div>
        </div>

        <!-- Section 3: Dashboard -->
        <div id="dashboard" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i class="fas fa-chart-pie"></i>
                </div>
                <div class="section-title">
                    <h2>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
                    <p>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-value" id="totalRegistrations">0</div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-value" id="totalWinners">0</div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-value" id="totalCompetitions">0</div>
                    <div class="stat-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üè´</div>
                    <div class="stat-value" id="totalSchools">0</div>
                    <div class="stat-label">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</div>
                </div>
            </div>

            <!-- Charts -->
            <div class="chart-container">
                <div class="chart-title">
                    <i class="fas fa-chart-bar"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                </div>
                <canvas id="competitionChart"></canvas>
            </div>

            <div class="chart-container">
                <div class="chart-title">
                    <i class="fas fa-chart-pie"></i> ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
                </div>
                <canvas id="schoolChart"></canvas>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p><strong>‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏á‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏® :: ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤ | Saschool</strong></p>
        <p>¬© 2569 ‡∏á‡∏≤‡∏ô‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏™‡∏≤ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡πà‡∏≤‡∏ô</p>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <script>
        // Configuration
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwWLeafAjZZHHvMcOVMoHqNXdQI_nlX59_aOxoE_X03-VE--xr5jqRUSLrklb980mfruw/exec';
        const ADMIN_PASSWORD = 'sa1234';

        let registrationsData = [];
        let winnersData = [];

        // Competition categories mapping
        const competitionCategories = {
            '‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ': [
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.1-‡∏õ.2 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏µ‡πÑ‡∏°‡πâ',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.3-‡∏õ.4 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡∏™‡∏µ‡∏ä‡∏≠‡∏•‡πå‡∏Ñ',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.5-‡∏õ.6 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏µ‡∏ä‡∏≠‡∏•‡πå‡∏Ñ',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.‡∏ï‡πâ‡∏ô ‡∏´‡∏∏‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.‡∏õ‡∏•‡∏≤‡∏¢ ‡∏´‡∏∏‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô'
            ],
            '‡∏Ç‡∏±‡∏ö‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤‡∏£‡∏≤‡πÇ‡∏≠‡πÄ‡∏Å‡∏∞': [
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢'
            ],
            '‡πÄ‡∏ã‡∏õ‡∏±‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≠': [
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡∏°‡∏ä‡∏≤‡∏¢ 3 ‡∏Ñ‡∏ô',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏µ‡∏°‡∏´‡∏ç‡∏¥‡∏á 3 ‡∏Ñ‡∏ô'
            ],
            '‡∏Ñ‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡πá‡∏ï': [
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏™‡∏° (‡∏≠‡∏≤‡∏¢‡∏∏‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 12 ‡∏õ‡∏µ)'
            ],
            '‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•': [
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏ä‡∏≤‡∏¢',
                '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏´‡∏ç‡∏¥‡∏á'
            ]
        };

        // Show specific section (SPA functionality)
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.page-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav buttons
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Add active class to clicked nav button
            const activeBtn = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            // Smooth scroll to top
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            
            // Load data if needed
            if (sectionId === 'results') {
                loadResults();
            } else if (sectionId === 'dashboard') {
                loadDashboardData();
            }
        }

        // Update category options based on competition type
        document.getElementById('competitionType').addEventListener('change', function() {
            const competitionType = this.value;
            const categorySelect = document.getElementById('category');
            
            // Clear existing options
            categorySelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>';
            
            if (competitionType && competitionCategories[competitionType]) {
                competitionCategories[competitionType].forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categorySelect.appendChild(option);
                });
            }
        });

        // File upload handler
        function handleFileSelect(event) {
            const file = event.target.files[0];
            const fileNameDiv = document.getElementById('fileName');
            
            if (file) {
                // Check file size (5MB limit)
                if (file.size > 5 * 1024 * 1024) {
                    Swal.fire({
                        icon: 'error',
                        title: '‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ',
                        text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB',
                        confirmButtonColor: '#e74c3c'
                    });
                    event.target.value = '';
                    fileNameDiv.innerHTML = '';
                    return;
                }

                fileNameDiv.innerHTML = `
                    <i class="fas fa-check-circle" style="color: #27ae60;"></i> 
                    ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ${file.name} 
                    <small style="color: #27ae60;">(${(file.size / 1024 / 1024).toFixed(2)} MB)</small>
                `;
            } else {
                fileNameDiv.innerHTML = '';
            }
        }

        // Convert file to base64
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result.split(',')[1]);
                reader.onerror = error => reject(error);
            });
        }

        // Registration form submission
        document.getElementById('registrationForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Show loading
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',
                html: '‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            try {
                const fileInput = document.getElementById('fileUpload');
                let fileData = null;
                let fileName = '';
                let mimeType = '';

                // Handle file upload
                if (fileInput.files.length > 0) {
                    const file = fileInput.files[0];
                    fileName = file.name;
                    mimeType = file.type;
                    fileData = await fileToBase64(file);
                }

                // Prepare form data
                const formData = {
                    action: 'submitRegistration',
                    fullName: document.getElementById('fullName').value,
                    school: document.getElementById('school').value,
                    competitionType: document.getElementById('competitionType').value,
                    category: document.getElementById('category').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    teacher: document.getElementById('teacher').value,
                    fileData: fileData,
                    fileName: fileName,
                    mimeType: mimeType
                };

                // Send to Google Apps Script
                const response = await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: new URLSearchParams(formData)
                });

                // Success message
                Swal.fire({
                    icon: 'success',
                    title: '‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                    html: `
                        <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
                        <p><strong>‡∏ä‡∏∑‡πà‡∏≠:</strong> ${formData.fullName}</p>
                        <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô:</strong> ${formData.competitionType}</p>
                        <p><strong>‡∏£‡∏∞‡∏î‡∏±‡∏ö/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${formData.category}</p>
                    `,
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á',
                    confirmButtonColor: '#667eea'
                });

                // Reset form
                document.getElementById('registrationForm').reset();
                document.getElementById('fileName').innerHTML = '';
                document.getElementById('category').innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô/‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>';

                // Reload data
                setTimeout(() => {
                    loadDashboardData();
                }, 2000);

            } catch (error) {
                console.error('Error:', error);
                Swal.fire({
                    icon: 'error',
                    title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                    text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
                    confirmButtonColor: '#e74c3c'
                });
            }
        });

        // Announce winner
        async function announceWinner() {
            const password = document.getElementById('adminPassword').value;
            const winnerName = document.getElementById('winnerName').value;
            const winnerSchool = document.getElementById('winnerSchool').value;
            const winnerType = document.getElementById('winnerType').value;
            const winnerCategory = document.getElementById('winnerCategory').value;
            const winnerRank = document.getElementById('winnerRank').value;

            // Validate admin password
            if (password !== ADMIN_PASSWORD) {
                Swal.fire({
                    icon: 'error',
                    title: '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á',
                    text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á',
                    confirmButtonColor: '#e74c3c'
                });
                return;
            }

            // Validate inputs
            if (!winnerName || !winnerSchool || !winnerType || !winnerCategory || !winnerRank) {
                Swal.fire({
                    icon: 'warning',
                    title: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô',
                    text: '‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á',
                    confirmButtonColor: '#f39c12'
                });
                return;
            }

            // Show loading
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            try {
                const formData = {
                    action: 'announceWinner',
                    winnerName: winnerName,
                    winnerSchool: winnerSchool,
                    competitionType: winnerType,
                    category: winnerCategory,
                    rank: winnerRank
                };

                await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: new URLSearchParams(formData)
                });

                Swal.fire({
                    icon: 'success',
                    title: '‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                    html: `
                        <p>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
                        <p><strong>‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ${winnerName}</p>
                        <p><strong>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</strong> ${winnerSchool}</p>
                        <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${winnerType}</p>
                        <p><strong>‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ${winnerRank}</p>
                    `,
                    confirmButtonColor: '#27ae60'
                });

                // Clear form
                document.getElementById('adminPassword').value = '';
                document.getElementById('winnerName').value = '';
                document.getElementById('winnerSchool').value = '';
                document.getElementById('winnerType').value = '';
                document.getElementById('winnerCategory').value = '';
                document.getElementById('winnerRank').value = '';

                // Reload results
                setTimeout(() => {
                    loadResults();
                    loadDashboardData();
                }, 2000);

            } catch (error) {
                console.error('Error:', error);
                Swal.fire({
                    icon: 'error',
                    title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                    text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á',
                    confirmButtonColor: '#e74c3c'
                });
            }
        }

        // Load results
        async function loadResults() {
            try {
                const response = await fetch(`${SCRIPT_URL}?action=getWinners`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                const data = await response.json();
                winnersData = data.winners || [];

                displayResults(winnersData);
            } catch (error) {
                console.error('Error loading results:', error);
                // Try to load from localStorage as fallback
                const savedWinners = localStorage.getItem('winnersData');
                if (savedWinners) {
                    winnersData = JSON.parse(savedWinners);
                    displayResults(winnersData);
                }
            }
        }

        // Display results
        function displayResults(winners) {
            const container = document.getElementById('resultsContainer');
            
            if (winners.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-trophy"></i>
                        <h3>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h3>
                        <p>‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                    </div>
                `;
                return;
            }

            // Sort winners by rank priority
            const rankOrder = {
                'ü•á ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á': 1,
                'üèÜ ‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®': 1,
                'ü•à ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô': 2,
                'ü•à ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1': 2,
                'ü•â ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á': 3,
                'ü•â ‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2': 3,
                'üéñÔ∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°': 4,
                '‚≠ê ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©': 5
            };

            winners.sort((a, b) => {
                const rankA = rankOrder[a.rank] || 5;
                const rankB = rankOrder[b.rank] || 5;
                return rankA - rankB;
            });

            let html = '<div class="results-grid">';
            winners.forEach((winner, index) => {
                let rankClass = '';
                if (winner.rank.includes('‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á') || winner.rank.includes('‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®')) {
                    rankClass = 'gold';
                } else if (winner.rank.includes('‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏á‡∏¥‡∏ô') || winner.rank.includes('‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1')) {
                    rankClass = 'silver';
                } else if (winner.rank.includes('‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á') || winner.rank.includes('‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2')) {
                    rankClass = 'bronze';
                }

                html += `
                    <div class="result-card" style="animation-delay: ${index * 0.1}s">
                        <div class="result-rank ${rankClass}">${winner.rank}</div>
                        <div class="result-name">${winner.name}</div>
                        <div class="result-school">
                            <i class="fas fa-school"></i> ${winner.school}
                        </div>
                        <div class="result-category">${winner.type}</div>
                        <button class="btn-certificate" onclick="downloadCertificate('${winner.name}', '${winner.school}', '${winner.type}', '${winner.category || ''}', '${winner.rank}')">
                            <i class="fas fa-download"></i> ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£
                        </button>
                    </div>
                `;
            });
            html += '</div>';
            
            container.innerHTML = html;

            // Save to localStorage for offline access
            localStorage.setItem('winnersData', JSON.stringify(winners));
        }

        // Download certificate function using jsPDF
        function downloadCertificate(name, school, type, category, rank) {
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            setTimeout(() => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF({
                        orientation: 'landscape',
                        unit: 'mm',
                        format: 'a4'
                    });

                    // Certificate design
                    // Background
                    doc.setFillColor(240, 248, 255);
                    doc.rect(0, 0, 297, 210, 'F');
                    
                    // Border
                    doc.setDrawColor(102, 126, 234);
                    doc.setLineWidth(2);
                    doc.rect(10, 10, 277, 190);
                    
                    // Inner border
                    doc.setLineWidth(1);
                    doc.rect(15, 15, 267, 180);
                    
                    // Title
                    doc.setFontSize(24);
                    doc.setTextColor(102, 126, 234);
                    doc.text('‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£', 148.5, 40, { align: 'center' });
                    
                    // Subtitle
                    doc.setFontSize(16);
                    doc.setTextColor(0, 0, 0);
                    doc.text('‡∏á‡∏≤‡∏ô‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', 148.5, 55, { align: 'center' });
                    doc.text('"‡∏™‡∏∑‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ ‡∏™‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û ‡∏™‡∏π‡πà‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏õ‡πâ‡∏≠"', 148.5, 65, { align: 'center' });
                    
                    // Recipient info
                    doc.setFontSize(18);
                    doc.text('‡∏Ç‡∏≠‡∏°‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πà', 148.5, 85, { align: 'center' });
                    
                    doc.setFontSize(22);
                    doc.setTextColor(102, 126, 234);
                    doc.text(name, 148.5, 105, { align: 'center' });
                    
                    doc.setFontSize(14);
                    doc.setTextColor(0, 0, 0);
                    doc.text(`‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ${school}`, 148.5, 115, { align: 'center' });
                    
                    // Award details
                    doc.setFontSize(16);
                    doc.text(`‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö${rank}`, 148.5, 130, { align: 'center' });
                    doc.text(`‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ${type}`, 148.5, 145, { align: 'center' });
                    
                    if (category) {
                        doc.text(`${category}`, 148.5, 155, { align: 'center' });
                    }
                    
                    // Date and location
                    doc.setFontSize(12);
                    doc.text('‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 13 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏û.‡∏®. 2569', 148.5, 175, { align: 'center' });
                    doc.text('‡∏ì ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏™‡∏≤ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡πà‡∏≤‡∏ô', 148.5, 185, { align: 'center' });
                    
                    // Save the PDF
                    doc.save(`‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£_${name}_${type}.pdf`);
                    
                    Swal.fire({
                        icon: 'success',
                        title: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                        text: '‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß',
                        confirmButtonColor: '#27ae60'
                    });
                    
                } catch (error) {
                    console.error('Error generating certificate:', error);
                    Swal.fire({
                        icon: 'error',
                        title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                        text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡πÑ‡∏î‡πâ',
                        confirmButtonColor: '#e74c3c'
                    });
                }
            }, 1500);
        }

        // Load dashboard data
        async function loadDashboardData() {
            try {
                const response = await fetch(`${SCRIPT_URL}?action=getDashboard`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                const data = await response.json();

                // Update stats
                document.getElementById('totalRegistrations').textContent = data.totalRegistrations || 0;
                document.getElementById('totalWinners').textContent = data.totalWinners || 0;
                document.getElementById('totalCompetitions').textContent = data.totalCompetitions || 5;
                document.getElementById('totalSchools').textContent = data.totalSchools || 0;

                // Update charts
                updateCompetitionChart(data.competitionStats || {});
                updateSchoolChart(data.schoolStats || {});

            } catch (error) {
                console.error('Error loading dashboard:', error);
                // Use default values
                document.getElementById('totalRegistrations').textContent = '0';
                document.getElementById('totalWinners').textContent = '0';
                document.getElementById('totalCompetitions').textContent = '5';
                document.getElementById('totalSchools').textContent = '0';
                
                // Show default charts with empty data
                updateCompetitionChart({});
                updateSchoolChart({});
            }
        }

        // Competition Chart
        let competitionChart = null;
        function updateCompetitionChart(stats) {
            const ctx = document.getElementById('competitionChart').getContext('2d');
            
            if (competitionChart) {
                competitionChart.destroy();
            }

            const labels = Object.keys(stats);
            const values = Object.values(stats);

            competitionChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô',
                        data: values,
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.8)',
                            'rgba(118, 75, 162, 0.8)',
                            'rgba(240, 147, 251, 0.8)',
                            'rgba(79, 172, 254, 0.8)',
                            'rgba(0, 242, 254, 0.8)'
                        ],
                        borderRadius: 10,
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                font: {
                                    family: 'Kanit'
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    family: 'Kanit'
                                },
                                maxRotation: 45
                            }
                        }
                    }
                }
            });
        }

        // School Chart
        let schoolChart = null;
        function updateSchoolChart(stats) {
            const ctx = document.getElementById('schoolChart').getContext('2d');
            
            if (schoolChart) {
                schoolChart.destroy();
            }

            const labels = Object.keys(stats);
            const values = Object.values(stats);

            schoolChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: values,
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.8)',
                            'rgba(118, 75, 162, 0.8)',
                            'rgba(240, 147, 251, 0.8)',
                            'rgba(79, 172, 254, 0.8)',
                            'rgba(0, 242, 254, 0.8)',
                            'rgba(17, 153, 142, 0.8)',
                            'rgba(56, 239, 125, 0.8)',
                            'rgba(255, 215, 0, 0.8)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: 'Kanit',
                                    size: 12
                                },
                                padding: 15,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        // Initialize on page load
        window.addEventListener('load', () => {
            loadResults();
            loadDashboardData();
            
            // Auto-reload data every 30 seconds for real-time updates
            setInterval(() => {
                loadResults();
                loadDashboardData();
            }, 30000);
            
            // Add some initial animations
            setTimeout(() => {
                const cards = document.querySelectorAll('.category-card, .stat-card');
                cards.forEach((card, index) => {
                    setTimeout(() => {
                        card.style.animation = 'fadeInUp 0.6s ease forwards';
                    }, index * 100);
                });
            }, 500);
        });

        // Add drag and drop functionality for file upload
        const fileLabel = document.querySelector('.file-input-label');
        
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            fileLabel.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            fileLabel.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            fileLabel.addEventListener(eventName, unhighlight, false);
        });

        function highlight(e) {
            fileLabel.style.borderColor = var(--secondary-color);
            fileLabel.style.backgroundColor = 'rgba(63, 94, 251, 0.2)';
        }

        function unhighlight(e) {
            fileLabel.style.borderColor = var(--primary-color);
            fileLabel.style.backgroundColor = 'rgba(252, 70, 107, 0.1)';
        }

        fileLabel.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                const fileInput = document.getElementById('fileUpload');
                fileInput.files = files;
                handleFileSelect({ target: fileInput });
            }
        }
    </script>
</body>
</html>
